import{d as m,_ as f,a as i,o as s,b as v,e as d,t as n,f as T,w as $,v as C,F as V,g as w,B as S,u as F,h as p,r as h,i as A}from"./index-BbwckkP4.js";const k=m({name:"InputField",inheritAttrs:!1,props:{value:{type:String,required:!1},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:"Enter text here"},name:{type:String,default:"input-field"},error:{type:String,default:""}},methods:{onChange(e){const t=e.target;this.$emit("change:value",t.value)}}}),B={class:"input-field"},D=["for"],I=["id","type","placeholder","value"],M={key:1,class:"error"};function U(e,t,o,l,c,g){return s(),i("div",B,[e.label?(s(),i("label",{key:0,for:e.name},n(e.label),9,D)):v("",!0),d("input",T({id:e.name,type:e.type,placeholder:e.placeholder,value:e.value,onInput:t[0]||(t[0]=(...r)=>e.onChange&&e.onChange(...r)),onChange:t[1]||(t[1]=(...r)=>e.onChange&&e.onChange(...r))},e.$attrs),null,16,I),e.error?(s(),i("span",M,n(e.error),1)):v("",!0)])}const q=f(k,[["render",U],["__scopeId","data-v-82100914"]]),E=m({name:"Dropdown",inheritAttrs:!1,props:{id:{type:String,required:!0},label:{type:String,required:!0},options:{type:Array,required:!0},modelValue:{type:[String,Number],required:!0}},emits:["update:modelValue"],data(){return{selectedValue:this.modelValue}},watch:{modelValue(e){this.selectedValue=e}},methods:{onChange(){this.$emit("update:modelValue",this.selectedValue)}}}),L={class:"dropdown"},_=["for"],N=["id"],R=["value"];function O(e,t,o,l,c,g){return s(),i("div",L,[d("label",{for:e.id,class:"dropdown-label"},n(e.label),9,_),$(d("select",T({id:e.id,class:"dropdown-select","onUpdate:modelValue":t[0]||(t[0]=r=>e.selectedValue=r),onChange:t[1]||(t[1]=(...r)=>e.onChange&&e.onChange(...r))},e.$attrs),[(s(!0),i(V,null,w(e.options,({label:r,value:u})=>(s(),i("option",{key:u,value:u},n(r),9,R))),128))],16,N),[[C,e.selectedValue]])])}const P=f(E,[["render",O],["__scopeId","data-v-4c20973c"]]),j="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let G=(e=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=j[o[e]&63];return t};const H=()=>{const e=new Date,t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("en-US",t)},b=F(),J=m({name:"AddTodo",props:{isEditFlow:{type:Boolean,default:!1},todo:{type:Object,default:()=>({id:"",title:"",priority:"Moderate",createdAt:""})}},components:{InputField:q,Button:S,Dropdown:P},computed:{isFormValid(){const{title:e}=this.errors;return(e==null?void 0:e.trim().length)===0}},data(){var e,t,o,l;return{message:"",form:{id:((e=this.todo)==null?void 0:e.id)||"",title:((t=this.todo)==null?void 0:t.title)||"",priority:((o=this.todo)==null?void 0:o.priority)||"Moderate",createdAt:((l=this.todo)==null?void 0:l.createdAt)||""},errors:{title:"",priority:""},todos:[]}},methods:{resetFormFields(){this.form={id:"",title:"",priority:"Moderate",createdAt:""},this.errors={title:"",priority:""},this.message=""},addTodo(){const{title:e,priority:t}=this.form,o={id:G(),title:e,priority:t,createdAt:H()};b.addTodo(o),this.resetFormFields()},editTodo(){const{title:e,priority:t}=this.form,o={id:this.todo.id,title:e,priority:t,createdAt:this.todo.createdAt};b.editTodo(this.todo.id,o),this.resetFormFields()},validateTitle(){this.form.title.trim()?this.form.title.length>20?this.errors.title="Title must not exceed 20 characters.":this.errors.title="":this.errors.title="Title is required."},redirectToRouteTodoList(){this.$router.push({name:"TodoList"})},onChaneTitle(e){this.form.title=e,this.validateTitle()},handleSubmit(){this.validateTitle(),this.isFormValid&&(this.isEditFlow?this.form.title.trim().length>0&&this.errors.title.length===0&&(this.editTodo(),this.message="Updated todo item successfully"):this.form.title.trim().length>0&&this.errors.title.length===0&&(this.addTodo(),this.message="Todo added successfully"),setTimeout(()=>{this.redirectToRouteTodoList()},1e3))}},setup(){return{options:[{label:"Critical",value:"Critical"},{label:"Moderate",value:"Moderate"},{label:"Optional",value:"Optional"}]}}}),K={class:"add-todo-wrapper"},Q={style:{color:"green"}},W={class:"button-group"};function X(e,t,o,l,c,g){const r=h("InputField"),u=h("Dropdown"),y=h("Button");return s(),i("div",K,[d("p",Q,n(e.message),1),d("form",{onSubmit:t[2]||(t[2]=A((...a)=>e.handleSubmit&&e.handleSubmit(...a),["prevent"]))},[p(r,{label:"Title",placeholder:"Enter title",value:e.form.title,"onUpdate:value":t[0]||(t[0]=a=>e.form.title=a),error:e.errors.title,"onChange:value":e.onChaneTitle},null,8,["value","error","onChange:value"]),p(u,{id:"priority",label:"Priority",options:e.options,modelValue:e.form.priority,"onUpdate:modelValue":t[1]||(t[1]=a=>e.form.priority=a)},null,8,["options","modelValue"]),d("div",W,[p(y,{label:"Back",type:"button",variant:"secondary",onClick:e.redirectToRouteTodoList},null,8,["onClick"]),p(y,{label:e.isEditFlow?"Update Todo":"Add Todo",type:"submit",variant:"primary",disabled:!e.isFormValid},null,8,["label","disabled"])])],32)])}const Z=f(J,[["render",X],["__scopeId","data-v-61210e8f"]]);export{Z as default};
