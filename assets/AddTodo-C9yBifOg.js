import{d as c,_ as f,a as s,o as l,b as v,e as a,t as n,f as T,w as V,v as $,F as C,g as w,B as S,u as F,h,r as m,i as A}from"./index-DECIRwfx.js";const k=c({name:"InputField",inheritAttrs:!1,props:{value:{type:String,required:!1},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:"Enter text here"},name:{type:String,default:"input-field"},error:{type:String,default:""}},emits:["change:value"],setup(e,{emit:t}){return{onChangeValue:i=>{const u=i.target;t("change:value",u.value)}}}}),B={class:"input-field"},D=["for"],I=["id","type","placeholder","value"],M={key:1,class:"error"};function U(e,t,o,i,u,g){return l(),s("div",B,[e.label?(l(),s("label",{key:0,for:e.name},n(e.label),9,D)):v("",!0),a("input",T({id:e.name,type:e.type,placeholder:e.placeholder,value:e.value,onInput:t[0]||(t[0]=(...r)=>e.onChangeValue&&e.onChangeValue(...r)),onChange:t[1]||(t[1]=(...r)=>e.onChangeValue&&e.onChangeValue(...r))},e.$attrs),null,16,I),e.error?(l(),s("span",M,n(e.error),1)):v("",!0)])}const q=f(k,[["render",U],["__scopeId","data-v-84acf9a3"]]),E=c({name:"Dropdown",inheritAttrs:!1,props:{id:{type:String,required:!0},label:{type:String,required:!0},options:{type:Array,required:!0},modelValue:{type:[String,Number],required:!0}},emits:["update:modelValue"],data(){return{selectedValue:this.modelValue}},watch:{modelValue(e){this.selectedValue=e}},methods:{onChange(){this.$emit("update:modelValue",this.selectedValue)}}}),L={class:"dropdown"},_=["for"],N=["id"],R=["value"];function O(e,t,o,i,u,g){return l(),s("div",L,[a("label",{for:e.id,class:"dropdown-label"},n(e.label),9,_),V(a("select",T({id:e.id,class:"dropdown-select","onUpdate:modelValue":t[0]||(t[0]=r=>e.selectedValue=r),onChange:t[1]||(t[1]=(...r)=>e.onChange&&e.onChange(...r))},e.$attrs),[(l(!0),s(C,null,w(e.options,({label:r,value:p})=>(l(),s("option",{key:p,value:p},n(r),9,R))),128))],16,N),[[$,e.selectedValue]])])}const P=f(E,[["render",O],["__scopeId","data-v-4c20973c"]]),j="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let G=(e=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=j[o[e]&63];return t};const H=()=>{const e=new Date,t={weekday:"long",year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("en-US",t)},b=F(),J=c({name:"AddTodo",props:{isEditFlow:{type:Boolean,default:!1},todo:{type:Object,default:()=>({id:"",title:"",priority:"Moderate",createdAt:""})}},components:{InputField:q,Button:S,Dropdown:P},computed:{isFormValid(){const{title:e}=this.errors;return(e==null?void 0:e.trim().length)===0}},data(){var e,t,o,i;return{message:"",form:{id:((e=this.todo)==null?void 0:e.id)||"",title:((t=this.todo)==null?void 0:t.title)||"",priority:((o=this.todo)==null?void 0:o.priority)||"Moderate",createdAt:((i=this.todo)==null?void 0:i.createdAt)||""},errors:{title:"",priority:""},todos:[]}},methods:{resetFormFields(){this.form={id:"",title:"",priority:"Moderate",createdAt:""},this.errors={title:"",priority:""},this.message=""},addTodo(){const{title:e,priority:t}=this.form,o={id:G(),title:e,priority:t,createdAt:H()};b.addTodo(o),this.resetFormFields()},editTodo(){const{title:e,priority:t}=this.form,o={id:this.todo.id,title:e,priority:t,createdAt:this.todo.createdAt};b.editTodo(this.todo.id,o),this.resetFormFields()},validateTitle(){this.form.title.trim()?this.form.title.length>20?this.errors.title="Title must not exceed 20 characters.":this.errors.title="":this.errors.title="Title is required."},redirectToRouteTodoList(){this.$router.push({name:"TodoList"})},onChaneTitle(e){this.form.title=e,this.validateTitle()},handleSubmit(){this.validateTitle(),this.isFormValid&&(this.isEditFlow?this.form.title.trim().length>0&&this.errors.title.length===0&&(this.editTodo(),this.message="Updated todo item successfully"):this.form.title.trim().length>0&&this.errors.title.length===0&&(this.addTodo(),this.message="Todo added successfully"),setTimeout(()=>{this.redirectToRouteTodoList()},500))}},setup(){return{options:[{label:"Critical",value:"Critical"},{label:"Moderate",value:"Moderate"},{label:"Optional",value:"Optional"}]}}}),K={class:"add-todo-wrapper"},Q={style:{color:"green"}},W={class:"button-group"};function X(e,t,o,i,u,g){const r=m("InputField"),p=m("Dropdown"),y=m("Button");return l(),s("div",K,[a("p",Q,n(e.message),1),a("form",{onSubmit:t[2]||(t[2]=A((...d)=>e.handleSubmit&&e.handleSubmit(...d),["prevent"]))},[h(r,{label:"Title",placeholder:"Enter title",value:e.form.title,"onUpdate:value":t[0]||(t[0]=d=>e.form.title=d),error:e.errors.title,"onChange:value":e.onChaneTitle},null,8,["value","error","onChange:value"]),h(p,{id:"priority",label:"Priority",options:e.options,modelValue:e.form.priority,"onUpdate:modelValue":t[1]||(t[1]=d=>e.form.priority=d)},null,8,["options","modelValue"]),a("div",W,[h(y,{label:"Back",type:"button",variant:"secondary",onClick:e.redirectToRouteTodoList},null,8,["onClick"]),h(y,{label:e.isEditFlow?"Update Todo":"Add Todo",type:"submit",variant:"primary",disabled:!e.isFormValid},null,8,["label","disabled"])])],32)])}const Z=f(J,[["render",X],["__scopeId","data-v-fc4185d8"]]);export{Z as default};
